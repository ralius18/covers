(function(){"use strict";var t={6510:function(t,e,n){n(6992),n(8674),n(9601),n(7727);var i=n(144),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-main",{staticClass:"main"},[n("header-bar"),n("router-view",{staticClass:"router-view"})],1)],1)},o=[],s=(n(4916),n(5306),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",[n("v-row",[n("h1",{staticClass:"text-primary-lighten-1"},[n("router-link",{attrs:{to:"/"}},[t._v("Brad's Covers")])],1),n("v-spacer"),t.user.loggedIn?n("v-btn",{on:{click:t.logOut}},[t._v("Log Out")]):n("router-link",{attrs:{to:"/login"}},[n("v-btn",[t._v("Log In")])],1)],1)],1)}),a=[],l=n(4367),c=n(7391),u=(0,c.Q_)("main",{state:function(){return{user:{loggedIn:!1,data:null}}},actions:{setLoggedIn:function(t){this.$state.user.loggedIn=t},setUser:function(t){this.$state.user.data=t},fetchUser:function(t){this.setLoggedIn(null!==t),t?this.setUser(t):this.setUser(null)}}}),d=n(1902),f=i.Z.extend({name:"HeaderBar",methods:{logOut:function(){d.Z.auth().signOut()}},computed:(0,l.Z)({},(0,c.rn)(u,["user"]))}),v=f,h=n(1001),p=n(3453),g=n.n(p),m=n(4995),_=n(2877),b=n(9762),k=(0,h.Z)(v,s,a,!1,null,"10b93617",null),w=k.exports;g()(k,{VBtn:m.Z,VRow:_.Z,VSpacer:b.Z});var x=i.Z.extend({name:"App",components:{HeaderBar:w},beforeCreate:function(){var t=this;d.Z.auth().onAuthStateChanged((function(e){var n=u();n.fetchUser(e),n.user.loggedIn&&"/login"===t.$route.path?t.$router.replace("/"):n.user.loggedIn||"/login"===t.$route.path||t.$router.replace("/login")}))}}),y=x,Z=n(7524),S=n(1009),C=(0,h.Z)(y,r,o,!1,null,null,null),A=C.exports;g()(C,{VApp:Z.Z,VMain:S.Z});var T=n(9132);i.Z.use(T.Z);var V=new T.Z({theme:{dark:!0,options:{customProperties:!0},themes:{light:{primary:"#ffc107",secondary:"#17a2b8"},dark:{primary:{base:"#ffc107",lighten1:"#ffd68c",lighten2:"#ffe9c1"},secondary:"#17a2b8",anchor:"#ffe9c1",background:{base:"#121212",lighten1:"#252627"},dark_background:"#121212"}}}}),L=n(6497),$=n(8345),E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("song-list")},B=[],I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("header-actions",[n("v-text-field",{staticClass:"search",attrs:{dense:"",label:"Search",clearable:"",outlined:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),n("b",[t._v("Total:")]),t._v(" "+t._s(t.songs.length)+" "),t.isSetList?n("div",[n("b",[t._v("Duration:")]),t._v(" "+t._s(t.totalDuration)+" ")]):t._e(),n("v-data-table",{staticClass:"song-list",attrs:{headers:t.headers,headerProps:t.headerProps,items:t.sortedSongs,"sort-by":"artist",search:t.search,"hide-default-footer":"","disable-pagination":"",loading:t.loading},on:{"click:row":t.clickRow},scopedSlots:t._u([{key:"item.addToSet",fn:function(e){var i=e.item;return[i.in_set_list?n("v-btn",{attrs:{color:"primary",fab:"","x-small":""},on:{click:function(e){return e.stopPropagation(),t.onSetListClick(i)}}},[n("v-icon",[t._v("mdi-check")])],1):n("v-btn",{attrs:{color:"primary",fab:"","x-small":"",outlined:""},on:{click:function(e){return e.stopPropagation(),t.onSetListClick(i)}}},[n("v-icon",[t._v("mdi-plus")])],1)]}},{key:"item.tab_link",fn:function(e){var i=e.item;return[""!=i.tab_link?n("v-icon",{attrs:{color:"primary"}},[t._v("mdi-check")]):t._e()]}},{key:"item.duration_seconds",fn:function(e){var n=e.item;return[t._v(" "+t._s(t.secondsToMinutes(n.duration_seconds))+" ")]}}])})],1)},R=[],O=n(6198),M=(n(5666),n(6699),n(7042),n(9600),n(1539),n(9714),n(2023),n(4765),n(2707),n(4747),n(7327),n(3204),n(6621),n(9423)),P=d.Z.initializeApp({apiKey:"AIzaSyA0ESHtyir-Di4xNEdMAvdrTWNHv0DlE80",authDomain:"brads-covers.firebaseapp.com",projectId:"brads-covers",storageBucket:"brads-covers.appspot.com",messagingSenderId:"230739198962",appId:"1:230739198962:web:3b3690e4101c644ae2e16b"}),D=((0,M.yu)(P,{provider:new M.z9("6LfLgt4gAAAAAJcmapqbBIlF7Xo2o-Z0EiRB9cwR")}),P.firestore()),N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",[t._t("default"),n("v-spacer"),n("router-link",{staticClass:"mr-4",attrs:{to:"/setlist"}},[n("v-btn",{attrs:{color:"secondary"}},[t._v("Set List")])],1),n("router-link",{attrs:{to:"/add"}},[n("v-btn",{attrs:{color:"primary"}},[t._v("Add New")])],1)],2)},j=[],q=i.Z.extend({name:"HeaderActions"}),H=q,z=(0,h.Z)(H,N,j,!1,null,"337fc5ac",null),F=z.exports;g()(z,{VBtn:m.Z,VRow:_.Z,VSpacer:b.Z});var U=i.Z.extend({name:"SongList",components:{HeaderActions:F},props:{isSetList:{type:Boolean,default:!1}},firestore:{songs:D.collection("songs")},data:function(){return{search:"",songs:[],headerProps:{sortIcon:"mdi-arrow-drop-down"},headers:[{text:"",value:"addToSet",width:50,sortable:!1},{text:"Title",value:"title"},{text:"Artist",value:"artist",width:220,groupable:!0},{text:"Tab",value:"tab_link",width:70},{text:"Genre",value:"genre",width:120},{text:"Capo",value:"capo",width:80},{text:"Key",value:"song_key",width:70},{text:"Tuning",value:"tuning",width:100},{text:"Duration",value:"duration_seconds",width:100}],sortBy:"artist",sortAsc:!0,loading:!1}},methods:{secondsToMinutes:function(t){if([NaN,null,void 0,""].includes(t))return"";var e=Math.floor(t/60),n=t-60*e;function i(t,e,n){return(new Array(n+1).join(e)+t).slice(-n)}return e+":"+i(n,"0",2)},createSong:function(t,e){var n=t.data();return{id:t.id.toString(),title:n.title,artist:n.artist,tab_link:n.tab_link,genre:n.genre,capo:n.capo,song_key:n.song_key,tuning:n.tuning,duration_seconds:n.duration_seconds,in_set_list:n.in_set_list}},redirectToSong:function(t){this.$router.push("/song/".concat(t))},clickRow:function(t){this.redirectToSong(t.id)},onSetListClick:function(t){return(0,O.Z)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=(0,l.Z)({},t),n.in_set_list=!t.in_set_list,D.collection("songs").doc(t.id).set(n).then((function(){t.in_set_list=!t.in_set_list}));case 3:case"end":return e.stop()}}),e)})))()},searchMatches:function(t){return!!t.title.toLowerCase().includes(this.search.toLowerCase())||(!!t.artist.toLowerCase().includes(this.search.toLowerCase())||void 0)},sortByColThenArtist:function(t,e){var n=e;switch(t){case"tab":n=e.sort((function(t,e){return""!=t.tab_link&&""==e.tab_link?-1:""==t.tab_link&&""!=e.tab_link?1:0}))}return this.sortByArtist(n)},sortByArtist:function(t){var e=this;return t.sort((function(t,n){var i=t.artist.replace("The ",""),r=n.artist.replace("The ","");return i==r?e.sortAsc?t.title.localeCompare(n.title):n.title.localeCompare(n.title):e.sortAsc?i.localeCompare(r):r.localeCompare(i)}))},changeSort:function(t){this.sortBy==t.target.id?this.sortAsc=!this.sortAsc:(this.sortBy=t.target.id,this.sortAsc=!0)}},computed:{totalDuration:function(){var t=0;return this.sortedSongs.forEach((function(e){return t+=e.duration_seconds?e.duration_seconds:0})),0==t?"-:--":this.secondsToMinutes(t)},sortedSongs:function(){var t=this.songs;return this.isSetList&&(t=t.filter((function(t){return t.in_set_list}))),t}}}),K=U,W=n(3291),G=n(6428),J=n(5978),Q=(0,h.Z)(K,I,R,!1,null,"515121f5",null),X=Q.exports;g()(Q,{VBtn:m.Z,VDataTable:W.Z,VIcon:G.Z,VTextField:J.Z});var Y=i.Z.extend({name:"HomeView",components:{SongList:X},created:function(){document.title="Brad's Covers"}}),tt=Y,et=(0,h.Z)(tt,E,B,!1,null,null,null),nt=et.exports,it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-row",{staticClass:"d-flex flex-column login-form"},[n("v-col",[n("v-text-field",{attrs:{outlined:"",dense:"",required:"",label:"Email",autofocus:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),n("v-text-field",{attrs:{outlined:"",dense:"",required:"",label:"Password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("v-row",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",type:"submit",loading:t.loading},on:{click:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[t._v("Log In")]),n("v-spacer")],1)],1)],1),t._v(" "+t._s(t.error)+" ")],1)},rt=[],ot=i.Z.extend({data:function(){return{valid:!1,email:"",password:"",error:"",loading:!1}},methods:{submit:function(){var t=this,e=this.$refs.form;this.valid=e.validate(),this.valid&&(this.loading=!0,d.Z.auth().signInWithEmailAndPassword(this.email,this.password).then((function(){t.loading=!1})).catch((function(e){t.error=e.message,t.loading=!1})))}}}),st=ot,at=n(2102),lt=n(6232),ct=(0,h.Z)(st,it,rt,!1,null,"1ddec887",null),ut=ct.exports;g()(ct,{VBtn:m.Z,VCol:at.Z,VForm:lt.Z,VRow:_.Z,VSpacer:b.Z,VTextField:J.Z});var dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("song-view")},ft=[],vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-row",{staticClass:"d-flex flex-column"},[n("v-col",[n("header-actions")],1),n("v-col",[n("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-container",{staticClass:"song-form"},[n("v-row",{staticClass:"d-flex flex-column"},[n("v-text-field",{attrs:{outlined:"",dense:"",required:"",rules:[t.rules.required],label:"Title"},on:{paste:function(e){return e.preventDefault(),t.handlePaste.apply(null,arguments)}},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),n("v-text-field",{attrs:{outlined:"",dense:"",required:"",rules:[t.rules.required],label:"Artist"},model:{value:t.artist,callback:function(e){t.artist=e},expression:"artist"}}),n("v-text-field",{attrs:{outlined:"",dense:"",label:"Genre"},model:{value:t.genre,callback:function(e){t.genre=e},expression:"genre"}}),n("v-text-field",{attrs:{outlined:"",dense:"",rules:[t.rules.numeric],label:"Capo"},model:{value:t.capo,callback:function(e){t.capo=e},expression:"capo"}}),n("v-text-field",{attrs:{outlined:"",dense:"",label:"Key"},model:{value:t.song_key,callback:function(e){t.song_key=e},expression:"song_key"}}),n("v-text-field",{attrs:{outlined:"",dense:"",label:"Tuning"},model:{value:t.tuning,callback:function(e){t.tuning=e},expression:"tuning"}}),n("v-text-field",{attrs:{outlined:"",dense:"",rules:[t.rules.time],label:"Duration"},model:{value:t.duration,callback:function(e){t.duration=e},expression:"duration"}}),n("v-text-field",{attrs:{outlined:"",dense:"",label:"Tab"},model:{value:t.tab_link,callback:function(e){t.tab_link=e},expression:"tab_link"}})],1),n("v-row",[""!=t.tab_link&&t.songExists?n("v-btn",{staticClass:"mr-4",attrs:{"append-icon":"mdi-open-in-new",color:"secondary",href:t.tab_link,target:"_blank"}},[t._v(" View Tab ")]):t._e(),t.songExists?n("v-btn",{attrs:{"append-icon":"mdi-open-in-new",color:"secondary",href:t.lyrics_url,target:"_blank"}},[t._v(" View Lyrics")]):t._e(),n("v-spacer"),t.songExists&&t.in_set_list?n("v-btn",{staticClass:"mr-4",attrs:{color:"secondary"}},[t._v("Remove from Set List")]):t.songExists&&!t.in_set_list?n("v-btn",{staticClass:"mr-4",attrs:{color:"secondary"}},[t._v("Add to Set List")]):t._e(),n("v-btn",{attrs:{color:"primary"},on:{click:t.onSaveClick}},[t._v("Save")])],1)],1)],1)],1)],1),n("v-snackbar",{attrs:{timeout:"2000",color:"primary"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("Saved")])],1)},ht=[],pt=(n(8757),n(2222),n(7601),n(3210),n(3123),n(2751)),gt=n(6133),mt=n(3796),_t=(0,pt.Z)((function t(e){(0,gt.Z)(this,t),(0,mt.Z)(this,"id",""),(0,mt.Z)(this,"title",""),(0,mt.Z)(this,"artist",""),(0,mt.Z)(this,"tab_link",""),(0,mt.Z)(this,"genre",""),(0,mt.Z)(this,"capo",0),(0,mt.Z)(this,"song_key",""),(0,mt.Z)(this,"tuning",""),(0,mt.Z)(this,"duration_seconds",0),(0,mt.Z)(this,"in_set_list",!1),e&&(this.id=e.id,this.title=e.title,this.artist=e.artist,this.tab_link=e.tab_link,this.genre=e.genre,this.capo=e.capo,this.song_key=e.song_key,this.tuning=e.tuning,this.duration_seconds=e.duration_seconds,this.in_set_list=e.in_set_list)})),bt=i.Z.extend({components:{HeaderActions:F},computed:{songExists:function(){return![NaN,null,void 0,""].includes(this.id)},lyrics_url:function(){if(!this.songExists)return"";var t=this.artist.toLowerCase();t=t.replace(/^[Tt]he|[Aa]\b/,""),t=t.replaceAll(/[^A-Za-z0-9]*/g,"");var e=this.title.toLowerCase();return e=e.replaceAll(/[^A-Za-z0-9]*/g,""),"https://azlyrics.com/lyrics/".concat(t,"/").concat(e,".html")}},data:function(){return{song:null,id:"",title:"",artist:"",valid:!1,tab_link:"",genre:"",capo:"",song_key:"",tuning:"",duration:"",tab:"",lyrics:"",in_set_list:!1,rules:{required:function(t){return!!t||"Required"},numeric:function(t){return/^[0-9]+$|^$/.test(t)||"Must be a number"},time:function(t){return/^[0-9]+:[0-9]{2}$|^$/.test(t)||"Must be time format (0:00)"}},snackbar:!1,loading:!0}},methods:{getSong:function(){var t=this;return(0,O.Z)(regeneratorRuntime.mark((function e(){var n,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.id=t.$route.params.id,e.next=3,D.collection("songs").doc(t.id).get();case 3:n=e.sent.data(),i="Brad's Covers - ",n?(r=new _t(n),t.title=r.title,t.artist=r.artist,t.tab_link=r.tab_link,t.genre=r.genre,t.capo=r.capo>-1?r.capo.toString():"",t.song_key=r.song_key,t.tuning=r.tuning,t.duration=t.secondsToMinutes(r.duration_seconds),""!=t.tab_link&&t.getTabContent(),t.in_set_list=r.in_set_list,i+=t.title):i+="Add New",document.title=i;case 7:case"end":return e.stop()}}),e)})))()},onSaveClick:function(){var t={title:this.title.trim(),artist:this.artist.trim(),tab_link:this.tab_link&&this.tab_link.trim()||"",genre:this.genre&&this.genre.trim()||"",capo:this.capo&&this.capo.trim()||-1,song_key:this.song_key&&this.song_key.trim()||"",tuning:this.tuning&&this.tuning.trim()||"",duration_seconds:this.duration&&this.minutesToSeconds(this.duration.trim())||""};this.id?this.updateSong(t,this.id):this.addSong(t)},updateSong:function(t,e){var n=this;return(0,O.Z)(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(n.validate(),!n.valid){i.next=5;break}return n.valid=!1,i.next=5,D.collection("songs").doc(e).update(t).then((function(){n.showSavedSnackbar()}));case 5:case"end":return i.stop()}}),i)})))()},addSong:function(t){var e=this;return(0,O.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.validate(),!e.valid){n.next=4;break}return n.next=4,D.collection("songs").add(t).then((function(t){e.$router.push("/song/".concat(t.id)),e.showSavedSnackbar()}));case 4:case"end":return n.stop()}}),n)})))()},validate:function(){var t=this.$refs.form;t&&(this.valid=t.validate())},showSavedSnackbar:function(){this.snackbar=!0},getTabContent:function(){},secondsToMinutes:function(t){if([NaN,null,void 0,""].includes(t))return"";var e=Math.floor(t/60),n=t-60*e;function i(t,e,n){return(new Array(n+1).join(e)+t).slice(-n)}return e+":"+i(n,"0",2)},minutesToSeconds:function(t){if([NaN,null,void 0,""].includes(t))return null;var e=t.split(":");return 60*parseInt(e[0])+parseInt(e[1])},handlePaste:function(t){var e=t.clipboardData.getData("text");if(e.includes("\t")){var n=e.split("\t");this.title=n[0]||"",this.artist=n[1]||"",this.genre=n[2]||"",this.capo=n[3]||"",this.song_key=n[4]||"",this.tuning=n[5]||"",this.duration=this.secondsToMinutes(n[6])||"",this.tab_link=n[7]||""}}},mounted:function(){this.getSong(),this.loading=!1}}),kt=bt,wt=n(9846),xt=n(3202),yt=(0,h.Z)(kt,vt,ht,!1,null,"28452190",null),Zt=yt.exports;g()(yt,{VBtn:m.Z,VCol:at.Z,VContainer:wt.Z,VForm:lt.Z,VRow:_.Z,VSnackbar:xt.Z,VSpacer:b.Z,VTextField:J.Z});var St=i.Z.extend({components:{SongView:Zt},created:function(){document.title="Brad's Covers - Add New"}}),Ct=St,At=(0,h.Z)(Ct,dt,ft,!1,null,null,null),Tt=At.exports,Vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("song-list",{attrs:{"is-set-list":""}})},Lt=[],$t=i.Z.extend({name:"SetListView",components:{SongList:X},data:function(){return{}},created:function(){document.title="Brad's Covers - Set List"},methods:{}}),Et=$t,Bt=(0,h.Z)(Et,Vt,Lt,!1,null,null,null),It=Bt.exports;i.Z.config.productionTip=!1,i.Z.use(L.S);var Rt=new $.Z({routes:[{path:"/",name:"HomeView",component:nt},{path:"/login",name:"LoginView",component:ut},{path:"/add",name:"AddView",component:Tt},{path:"/setlist",name:"SetListView",component:It},{path:"/song/:id",name:"SongView",component:Zt}]});i.Z.use($.Z),i.Z.use(c.og);var Ot=(0,c.WB)();new i.Z({vuetify:V,router:Rt,pinia:Ot,render:function(t){return t(A)}}).$mount("#app"),Rt.beforeEach((function(t,e,n){var i=u();i.user.loggedIn&&"/login"===t.path||i.user.loggedIn||"/login"===t.path?n():n("/login")}))}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}n.m=t,function(){var t=[];n.O=function(e,i,r,o){if(!i){var s=1/0;for(u=0;u<t.length;u++){i=t[u][0],r=t[u][1],o=t[u][2];for(var a=!0,l=0;l<i.length;l++)(!1&o||s>=o)&&Object.keys(n.O).every((function(t){return n.O[t](i[l])}))?i.splice(l--,1):(a=!1,o<s&&(s=o));if(a){t.splice(u--,1);var c=r();void 0!==c&&(e=c)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[i,r,o]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,i){var r,o,s=i[0],a=i[1],l=i[2],c=0;if(s.some((function(e){return 0!==t[e]}))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(l)var u=l(n)}for(e&&e(i);c<s.length;c++)o=s[c],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(u)},i=self["webpackChunkbrads_covers_vue"]=self["webpackChunkbrads_covers_vue"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(6510)}));i=n.O(i)})();
//# sourceMappingURL=app-legacy.a5fe4bdf.js.map